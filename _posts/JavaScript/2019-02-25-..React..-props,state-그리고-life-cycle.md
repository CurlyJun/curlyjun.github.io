---
layout: post
title: ..React.. props, state 그리고 life cycle
category: JavaScript
tags: JavaScript React
comments: true
---

## React

리액트는 프론트엔드 라이브러리이다. 컴포넌트에 집중된 라이브러리인데 여기서 컴포넌트란 데이터를 넣으면 내가 만든 유저 인터페이스에 데이터를 넣어 보여준다. 최근에는 vue가 더 많이 사용된다고 하는데 (전 세계 기준) 우리나라와 미국에서는 여전히 많이 쓰이는 라이브러리이다. 

최근까지는 라이브러리의 도움없이 자바스크립트만을 이용해 코딩을 했지만 (이를 바닐라 자바스크립트라고 부르는 듯 하다.) 오늘 처음으로 React라는 아주 핫한 라이브러리를 다뤄보게 되었다. 공부를 하면서 앞으로 리액트를 사용하면서 기억해야할 키워드인 props, state 그리고 life cycle 에 대해 정리해보았다.



### props

리액트 컴포넌트에서 다루는 데이터는 크게 두가지 인데 그 중에 하나가 바로 props이다. 이는 컴포넌트에 값을 전달할 때 사용하게 되는데 보통 이런식으로 쓰인다.

```react
function Welcome(props) {
  return <h1>Hello, {props.name}</h1>;
}

const element = <Welcome name="SeongJun" />;
ReactDOM.render(element, document.getElementById('root'));
```

Welcome이라는 컴포넌트를 만들고 태그를 주듯이 `name= "SeongJun"`이라고 값을 주면 Welcome의 promps.name 값이 SeongJun이 되어서 나오게 된다. 



### state

동적인 데이터를 다루게 될 때 사용되어지는 것이 state이다. state안에 값을 지정해주고 `setState()`를 통해 값을 변경해줄 수 있다. state는 constructor 안에 `this.state = {...} ` 이런식으로 정의할 수도 있고 class fields 문법을 사용(class내부에 `state = {...}`)해 정의할 수도 있다. 

#### setState

state에 있는 값을 바꾸기 위해서는 무조건 setState를 거쳐야한다. 이 함수를 거치면 컴포넌트는 리렌더링이 된다. state안의 여러 값중에 setState로 전달되는 값만 변경이 된다. setState를 통해서는 객체의 안쪽까지는 접근하지 못한다. 만약 접근하려 한다면 객체 자체가 바뀌게 된다. 이를 해결하기 위해서는 전개연산자를 통해 바꿔주어야 하는데 나중에 immutable.js와 같은 것을 사용하여 보다 쉽게 한다고 한다.

값을 업데이트하는 방법은 여러가지가 있다.

```react
//1
this.setState({
  number: this.state.number + 1
});

//2
this.setState(
  (state) => ({
    number: state.number
  })
);

//3
this.setState(
  ({ number }) => ({	//비구조화 할당
    number: number + 1
  })
);

//4
const { number } = this.state;
this.setState({
  number: number + 1
})
```



